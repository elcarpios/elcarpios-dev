---
import { Image } from "astro:assets";
import Icon from "@components/Icon.astro";
import Pill from "@components/Pill.astro";

interface Props {
  title: string;
  subtitle: string;
  description: string;
  link: string;
  image: {
    class?: string;
    src: ImageMetadata;
    alt: string;
  };
  technologies: string[];
}

const { title, subtitle, description, link, image, technologies } = Astro.props;
---

<div
  style="grid-template-rows: 1fr auto"
  class="shadow-md overflow-hidden items-stretch sm:grid sm:grid-cols-3 bg-gray-50 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700"
>
  <div
    class={`h-48 sm:h-auto col-span-1 flex flex-col items-center justify-center ${
      image.class || ""
    }`}
  >
    <Image class="p-2 lg:p-4" src={image.src} alt={image.alt} height={180} />
  </div>
  <div class="flex flex-col col-span-2 p-5">
    <a
      target="_blank"
      class="hover:underline dark:decoration-white hover:underline"
      href={link}
    >
      <h3
        class="flex align-center gap-1.5 text-xl font-bold tracking-tight text-gray-900 dark:text-white"
      >
        {title}
        <Icon name="external-link" class="w-4" />
      </h3>
    </a>
    <span class="text-gray-500 dark:text-gray-400">{subtitle}</span>
    <p class="my-4 flex-grow font-light text-gray-500 dark:text-gray-400">
      {description}
    </p>
    <div class="mt-1 flex flex-wrap gap-2">
      {technologies.map((technology) => <Pill>{technology}</Pill>)}
    </div>
  </div>
  <div
    class="tracking-wide col-span-3 bg-gray-200 text-gray-600 font-bold w-full text-center text-sm py-2 dark:text-gray-50 dark:bg-gray-700"
  >
    Customer
  </div>
</div>
